<div class="menu-container card p-6">
  <!-- Header with Title + Buttons -->
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-semibold text-gray-800">Menu Items</h2>
    <div class="flex gap-3">
      <button
        pButton
        label="Add Item"
        icon="pi pi-plus"
        class="p-button-sm"
        (click)="toggleAddItem()"
      ></button>

      <button
        pButton
        label="Add Category"
        icon="pi pi-tags"
        class="p-button-sm p-button-secondary"
        (click)="toggleAddCategory()"
      ></button>
    </div>
  </div>

  <!-- Items Table -->
  <p-table
    [value]="items"
    class="p-datatable-sm custom-table"
    responsiveLayout="scroll"
  >
    <ng-template pTemplate="header">
      <tr>
        <th class="text-left">Name</th>
        <th class="text-left">Category</th>
        <th class="text-left">Price (PKR)</th>
        <th class="text-center">Available</th>
        <th class="text-center" style="width: 80px">Action</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-item>
      <tr>
        <td>{{ item.name }}</td>
        <td>{{ item.category?.name || item.category }}</td>
        <td>{{ item.price | currency: 'PKR':'symbol' }}</td>
        <td class="text-center">
          <span
            class="px-2 py-1 rounded text-xs font-medium"
            [ngClass]="{
              'bg-green-100 text-green-700': item.available,
              'bg-red-100 text-red-700': !item.available
            }"
          >
            {{ item.available ? 'Yes' : 'No' }}
          </span>
        </td>
        <td class="text-center">
          <button
            pButton
            icon="pi pi-trash"
            class="p-button-rounded p-button-text p-button-danger p-button-sm"
            (click)="deleteItem(item._id)"
            title="Delete"
          ></button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <!-- Add Item / Add Category Forms -->
  <div class="mt-8">
    <app-add-item
      *ngIf="showAddItem"
      class="block mx-auto w-full md:w-7/12"
    ></app-add-item>

    <app-category
      *ngIf="showAddCategory"
      class="block mx-auto w-full md:w-5/12"
    ></app-category>
  </div>
</div>
